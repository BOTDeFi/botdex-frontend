{"ast":null,"code":"var _jsxFileName = \"/Users/rocknblock/Documents/GitHub/strong-hands-frontend/src/components/sections/Farms/TableRow/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport BigNumber from 'bignumber.js/bignumber';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite'; // import BnbImg from '@/assets/img/currency/bnb.svg';\n\nimport ArrowPurple from \"@/assets/img/icons/arrow-btn.svg\";\nimport CalcImg from \"@/assets/img/icons/calc.svg\";\nimport { Button } from '@/components/atoms';\nimport { tokens } from '@/config/tokens';\nimport { useLpTokenPrice } from '@/hooks/farms/useFarmsPrices';\nimport { useRefineryUsdPrice } from '@/hooks/useTokenUsdPrice';\nimport { useMst } from '@/store';\nimport { Precisions } from '@/types';\nimport { getBalanceAmount, numberWithCommas } from '@/utils/formatters';\nimport { clog } from '@/utils/logger';\nimport { LiquidityPopover, MultiplierPopover } from '../Popovers';\nimport DetailsActionsSection from './DetailsActionsSection';\nimport DetailsEarnedSection from './DetailsEarnedSection';\nimport DetailsLinks from './DetailsLinks';\nimport { EARNING_TOKEN_SYMBOL } from './utils';\nimport './TableRow.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TokensPair = ({\n  lpSymbol,\n  token,\n  quoteToken\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"farms-table-row__currencies box-f-ai-c t-box-b\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"farms-table-row__currencies-pair box-f\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"farms-table-row__currencies-pair-item\",\n        src: quoteToken.logoURI,\n        alt: \"currency\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"farms-table-row__currencies-pair-item\",\n        src: token.logoURI,\n        alt: \"currency\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-upper text-smd\",\n      children: lpSymbol\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_c = TokensPair;\nconst TableRow = observer(_c2 = _s(({\n  farm\n}) => {\n  _s();\n\n  const {\n    modals\n  } = useMst();\n  const [isOpenDetails, setOpenDetails] = React.useState(false);\n\n  const toggleDetails = () => {\n    setOpenDetails(isOpen => !isOpen);\n  };\n\n  const handleToggleDetailsClick = () => {\n    toggleDetails();\n  };\n\n  const handleToggleDetailsKeyDown = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (e.repeat) return;\n\n    if (e.key === 'Enter') {\n      toggleDetails();\n    }\n  };\n\n  const {\n    lpSymbol\n  } = farm;\n  const [lpSymbolWithoutLPString] = lpSymbol.split(' ');\n  const {\n    userData,\n    token,\n    quoteToken,\n    multiplier,\n    liquidity,\n    apr = 0\n  } = farm;\n  const {\n    earnings = '0',\n    stakedBalance = '0',\n    tokenBalance = '0'\n  } = userData || {};\n  const earningsToDisplay = getBalanceAmount(new BigNumber(earnings), tokens.rp1.decimals).toFixed(Precisions.shortToken);\n  const {\n    tokenUsdPrice: earningTokenPrice\n  } = useRefineryUsdPrice();\n  const stakingTokenPriceAsBN = useLpTokenPrice(lpSymbol);\n  clog(earningTokenPrice, stakingTokenPriceAsBN.toString());\n  const stakingTokenBalance = new BigNumber(stakedBalance).plus(new BigNumber(tokenBalance)).toString();\n\n  const handleOpenRoiModal = e => {\n    e.stopPropagation();\n    modals.roi.open({\n      isFarmPage: true,\n      autoCompoundFrequency: 0,\n      // is not used for farms\n      performanceFee: 0,\n      // is not used for farms\n      apr,\n      earningTokenSymbol: tokens.rp1.symbol,\n      earningTokenPrice,\n      stakingTokenSymbol: lpSymbol,\n      stakingTokenPrice: stakingTokenPriceAsBN.toNumber(),\n      stakingTokenBalance\n    });\n  };\n\n  const liquidityToDisplay = numberWithCommas(Number(liquidity === null || liquidity === void 0 ? void 0 : liquidity.toFixed(Precisions.fiat)) || 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"farms-table-row\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"farms-table-row__content\",\n      onClick: handleToggleDetailsClick,\n      onKeyDown: handleToggleDetailsKeyDown,\n      role: \"button\",\n      tabIndex: 0,\n      children: [/*#__PURE__*/_jsxDEV(TokensPair, {\n        lpSymbol: lpSymbolWithoutLPString,\n        token: token,\n        quoteToken: quoteToken\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"farms-table-row__earned text-gray-l-2 text-smd \",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"farms-table-row__extra-text text-gray text-ssm t-box-b\",\n          children: \"Earned\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: earningsToDisplay\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"farms-table-row__apr box-f-ai-c text-smd farms-table-row__item t-box-b\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"farms-table-row__extra-text text-gray text-ssm t-box-b\",\n          children: \"APR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"farms-table-row__text-md\",\n          children: [Number(apr).toFixed(2).replace('.', ','), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"farms-table-row__apr-button\",\n          onClick: handleOpenRoiModal,\n          onKeyDown: handleOpenRoiModal,\n          role: \"button\",\n          tabIndex: 0,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: CalcImg,\n            alt: \"calc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"farms-table-row__liquidity farms-table-row__item box-f-ai-c text-smd t-box-none\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"farms-table-row__text text-500 text-black\",\n          children: [\"$\", liquidityToDisplay]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LiquidityPopover, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"farms-table-row__multiplier farms-table-row__item box-f-ai-c text-smd t-box-none\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"farms-table-row__text-md text-500 text-black\",\n          children: multiplier\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MultiplierPopover, {\n          symbol: EARNING_TOKEN_SYMBOL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"farms-table-row__item box-f-jc-e box-f\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classNames('farms-table-row__item--mob t-box-b', {\n            'farms-table-row__item--mob_active': isOpenDetails\n          }),\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: ArrowPurple,\n            alt: \"arrow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"farms-table-row__item--pc t-box-none\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            colorScheme: \"outline-purple\",\n            size: \"smd\",\n            arrow: true,\n            toggle: true,\n            isActive: isOpenDetails,\n            onToggle: handleToggleDetailsClick,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CSSTransition, {\n      unmountOnExit: true,\n      mountOnEnter: true,\n      in: isOpenDetails,\n      addEndListener: (node, done) => {\n        node.addEventListener('transitionend', done, false);\n      },\n      classNames: \"show\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"farms-table-row__details box-yellow-l-d\",\n        children: [/*#__PURE__*/_jsxDEV(DetailsLinks, {\n          farm: farm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"farms-table-row__buttons box-f-ai-c t-box-b\",\n          children: [/*#__PURE__*/_jsxDEV(DetailsEarnedSection, {\n            farm: farm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DetailsActionsSection, {\n            farm: farm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}, \"t3oZ1f0AArOXFQbW5GQxCItZ+50=\", false, function () {\n  return [useMst, useRefineryUsdPrice, useLpTokenPrice];\n}));\n_c3 = TableRow;\nexport default TableRow;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"TokensPair\");\n$RefreshReg$(_c2, \"TableRow$observer\");\n$RefreshReg$(_c3, \"TableRow\");","map":{"version":3,"sources":["/Users/rocknblock/Documents/GitHub/strong-hands-frontend/src/components/sections/Farms/TableRow/index.tsx"],"names":["React","CSSTransition","BigNumber","classNames","observer","Button","tokens","useLpTokenPrice","useRefineryUsdPrice","useMst","Precisions","getBalanceAmount","numberWithCommas","clog","LiquidityPopover","MultiplierPopover","DetailsActionsSection","DetailsEarnedSection","DetailsLinks","EARNING_TOKEN_SYMBOL","TokensPair","lpSymbol","token","quoteToken","logoURI","TableRow","farm","modals","isOpenDetails","setOpenDetails","useState","toggleDetails","isOpen","handleToggleDetailsClick","handleToggleDetailsKeyDown","e","stopPropagation","preventDefault","repeat","key","lpSymbolWithoutLPString","split","userData","multiplier","liquidity","apr","earnings","stakedBalance","tokenBalance","earningsToDisplay","rp1","decimals","toFixed","shortToken","tokenUsdPrice","earningTokenPrice","stakingTokenPriceAsBN","toString","stakingTokenBalance","plus","handleOpenRoiModal","roi","open","isFarmPage","autoCompoundFrequency","performanceFee","earningTokenSymbol","symbol","stakingTokenSymbol","stakingTokenPrice","toNumber","liquidityToDisplay","Number","fiat","replace","CalcImg","ArrowPurple","node","done","addEventListener"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport BigNumber from 'bignumber.js/bignumber';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\n\n// import BnbImg from '@/assets/img/currency/bnb.svg';\nimport ArrowPurple from '@/assets/img/icons/arrow-btn.svg';\nimport CalcImg from '@/assets/img/icons/calc.svg';\nimport { Button } from '@/components/atoms';\nimport { tokens } from '@/config/tokens';\nimport { useLpTokenPrice } from '@/hooks/farms/useFarmsPrices';\nimport { useRefineryUsdPrice } from '@/hooks/useTokenUsdPrice';\nimport { useMst } from '@/store';\nimport { FarmWithStakedValue, Precisions, Token } from '@/types';\nimport { getBalanceAmount, numberWithCommas } from '@/utils/formatters';\nimport { clog } from '@/utils/logger';\n\nimport { LiquidityPopover, MultiplierPopover } from '../Popovers';\n\nimport DetailsActionsSection from './DetailsActionsSection';\nimport DetailsEarnedSection from './DetailsEarnedSection';\nimport DetailsLinks from './DetailsLinks';\nimport { EARNING_TOKEN_SYMBOL } from './utils';\n\nimport './TableRow.scss';\n\ninterface ITableRowProps {\n  farm: FarmWithStakedValue;\n}\n\ninterface ITokensPairProps {\n  lpSymbol: string;\n  token: Token;\n  quoteToken: Token;\n}\n\nconst TokensPair: React.FC<ITokensPairProps> = ({ lpSymbol, token, quoteToken }) => {\n  return (\n    <div className=\"farms-table-row__currencies box-f-ai-c t-box-b\">\n      <div className=\"farms-table-row__currencies-pair box-f\">\n        <img\n          className=\"farms-table-row__currencies-pair-item\"\n          src={quoteToken.logoURI}\n          alt=\"currency\"\n        />\n        <img className=\"farms-table-row__currencies-pair-item\" src={token.logoURI} alt=\"currency\" />\n      </div>\n      <div className=\"text-upper text-smd\">{lpSymbol}</div>\n    </div>\n  );\n};\n\nconst TableRow: React.FC<ITableRowProps> = observer(({ farm }) => {\n  const { modals } = useMst();\n  const [isOpenDetails, setOpenDetails] = React.useState<boolean>(false);\n\n  const toggleDetails = () => {\n    setOpenDetails((isOpen) => !isOpen);\n  };\n  const handleToggleDetailsClick = () => {\n    toggleDetails();\n  };\n  const handleToggleDetailsKeyDown = (e: React.KeyboardEvent): void => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (e.repeat) return;\n    if (e.key === 'Enter') {\n      toggleDetails();\n    }\n  };\n\n  const { lpSymbol } = farm;\n  const [lpSymbolWithoutLPString] = lpSymbol.split(' ');\n\n  const { userData, token, quoteToken, multiplier, liquidity, apr = 0 } = farm;\n  const { earnings = '0', stakedBalance = '0', tokenBalance = '0' } = userData || {};\n  const earningsToDisplay = getBalanceAmount(new BigNumber(earnings), tokens.rp1.decimals).toFixed(\n    Precisions.shortToken,\n  );\n\n  const { tokenUsdPrice: earningTokenPrice } = useRefineryUsdPrice();\n  const stakingTokenPriceAsBN = useLpTokenPrice(lpSymbol);\n  clog(earningTokenPrice, stakingTokenPriceAsBN.toString());\n  const stakingTokenBalance = new BigNumber(stakedBalance)\n    .plus(new BigNumber(tokenBalance))\n    .toString();\n\n  const handleOpenRoiModal = (e: React.MouseEvent | React.KeyboardEvent): void => {\n    e.stopPropagation();\n    modals.roi.open({\n      isFarmPage: true,\n      autoCompoundFrequency: 0, // is not used for farms\n      performanceFee: 0, // is not used for farms\n      apr,\n      earningTokenSymbol: tokens.rp1.symbol,\n      earningTokenPrice,\n      stakingTokenSymbol: lpSymbol,\n      stakingTokenPrice: stakingTokenPriceAsBN.toNumber(),\n      stakingTokenBalance,\n    });\n  };\n\n  const liquidityToDisplay = numberWithCommas(Number(liquidity?.toFixed(Precisions.fiat)) || 0);\n\n  return (\n    <div className=\"farms-table-row\">\n      <div\n        className=\"farms-table-row__content\"\n        onClick={handleToggleDetailsClick}\n        onKeyDown={handleToggleDetailsKeyDown}\n        role=\"button\"\n        tabIndex={0}\n      >\n        <TokensPair lpSymbol={lpSymbolWithoutLPString} token={token} quoteToken={quoteToken} />\n        <div className=\"farms-table-row__earned text-gray-l-2 text-smd \">\n          <div className=\"farms-table-row__extra-text text-gray text-ssm t-box-b\">Earned</div>\n          <span>{earningsToDisplay}</span>\n        </div>\n        <div className=\"farms-table-row__apr box-f-ai-c text-smd farms-table-row__item t-box-b\">\n          <div className=\"farms-table-row__extra-text text-gray text-ssm t-box-b\">APR</div>\n          <span className=\"farms-table-row__text-md\">\n            {Number(apr).toFixed(2).replace('.', ',')}%\n          </span>\n          <div\n            className=\"farms-table-row__apr-button\"\n            onClick={handleOpenRoiModal}\n            onKeyDown={handleOpenRoiModal}\n            role=\"button\"\n            tabIndex={0}\n          >\n            <img src={CalcImg} alt=\"calc\" />\n          </div>\n        </div>\n        <div className=\"farms-table-row__liquidity farms-table-row__item box-f-ai-c text-smd t-box-none\">\n          <span className=\"farms-table-row__text text-500 text-black\">${liquidityToDisplay}</span>\n          <LiquidityPopover />\n        </div>\n        <div className=\"farms-table-row__multiplier farms-table-row__item box-f-ai-c text-smd t-box-none\">\n          <span className=\"farms-table-row__text-md text-500 text-black\">{multiplier}</span>\n          <MultiplierPopover symbol={EARNING_TOKEN_SYMBOL} />\n        </div>\n        <div className=\"farms-table-row__item box-f-jc-e box-f\">\n          <div\n            className={classNames('farms-table-row__item--mob t-box-b', {\n              'farms-table-row__item--mob_active': isOpenDetails,\n            })}\n          >\n            <img src={ArrowPurple} alt=\"arrow\" />\n          </div>\n          <div className=\"farms-table-row__item--pc t-box-none\">\n            <Button\n              colorScheme=\"outline-purple\"\n              size=\"smd\"\n              arrow\n              toggle\n              isActive={isOpenDetails}\n              onToggle={handleToggleDetailsClick}\n            >\n              <span>Details</span>\n            </Button>\n          </div>\n        </div>\n      </div>\n      <CSSTransition\n        unmountOnExit\n        mountOnEnter\n        in={isOpenDetails}\n        addEndListener={(node, done) => {\n          node.addEventListener('transitionend', done, false);\n        }}\n        classNames=\"show\"\n      >\n        <div className=\"farms-table-row__details box-yellow-l-d\">\n          <DetailsLinks farm={farm} />\n          <div className=\"farms-table-row__buttons box-f-ai-c t-box-b\">\n            <DetailsEarnedSection farm={farm} />\n            <DetailsActionsSection farm={farm} />\n          </div>\n        </div>\n      </CSSTransition>\n    </div>\n  );\n});\n\nexport default TableRow;\n"]},"metadata":{},"sourceType":"module"}