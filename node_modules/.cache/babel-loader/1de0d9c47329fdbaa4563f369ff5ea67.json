{"ast":null,"code":"/**\n * @typedef {import('micromark-util-types').Effects} Effects\n * @typedef {import('micromark-util-types').State} State\n */\nimport { asciiControl, markdownLineEndingOrSpace, markdownLineEnding } from 'micromark-util-character';\n/**\n * @param {Effects} effects\n * @param {State} ok\n * @param {State} nok\n * @param {string} type\n * @param {string} literalType\n * @param {string} literalMarkerType\n * @param {string} rawType\n * @param {string} stringType\n * @param {number} [max=Infinity]\n * @returns {State}\n */\n// eslint-disable-next-line max-params\n\nexport function factoryDestination(effects, ok, nok, type, literalType, literalMarkerType, rawType, stringType, max) {\n  const limit = max || Number.POSITIVE_INFINITY;\n  let balance = 0;\n  return start;\n  /** @type {State} */\n\n  function start(code) {\n    if (code === 60) {\n      effects.enter(type);\n      effects.enter(literalType);\n      effects.enter(literalMarkerType);\n      effects.consume(code);\n      effects.exit(literalMarkerType);\n      return destinationEnclosedBefore;\n    }\n\n    if (code === null || code === 41 || asciiControl(code)) {\n      return nok(code);\n    }\n\n    effects.enter(type);\n    effects.enter(rawType);\n    effects.enter(stringType);\n    effects.enter('chunkString', {\n      contentType: 'string'\n    });\n    return destinationRaw(code);\n  }\n  /** @type {State} */\n\n\n  function destinationEnclosedBefore(code) {\n    if (code === 62) {\n      effects.enter(literalMarkerType);\n      effects.consume(code);\n      effects.exit(literalMarkerType);\n      effects.exit(literalType);\n      effects.exit(type);\n      return ok;\n    }\n\n    effects.enter(stringType);\n    effects.enter('chunkString', {\n      contentType: 'string'\n    });\n    return destinationEnclosed(code);\n  }\n  /** @type {State} */\n\n\n  function destinationEnclosed(code) {\n    if (code === 62) {\n      effects.exit('chunkString');\n      effects.exit(stringType);\n      return destinationEnclosedBefore(code);\n    }\n\n    if (code === null || code === 60 || markdownLineEnding(code)) {\n      return nok(code);\n    }\n\n    effects.consume(code);\n    return code === 92 ? destinationEnclosedEscape : destinationEnclosed;\n  }\n  /** @type {State} */\n\n\n  function destinationEnclosedEscape(code) {\n    if (code === 60 || code === 62 || code === 92) {\n      effects.consume(code);\n      return destinationEnclosed;\n    }\n\n    return destinationEnclosed(code);\n  }\n  /** @type {State} */\n\n\n  function destinationRaw(code) {\n    if (code === 40) {\n      if (++balance > limit) return nok(code);\n      effects.consume(code);\n      return destinationRaw;\n    }\n\n    if (code === 41) {\n      if (!balance--) {\n        effects.exit('chunkString');\n        effects.exit(stringType);\n        effects.exit(rawType);\n        effects.exit(type);\n        return ok(code);\n      }\n\n      effects.consume(code);\n      return destinationRaw;\n    }\n\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      if (balance) return nok(code);\n      effects.exit('chunkString');\n      effects.exit(stringType);\n      effects.exit(rawType);\n      effects.exit(type);\n      return ok(code);\n    }\n\n    if (asciiControl(code)) return nok(code);\n    effects.consume(code);\n    return code === 92 ? destinationRawEscape : destinationRaw;\n  }\n  /** @type {State} */\n\n\n  function destinationRawEscape(code) {\n    if (code === 40 || code === 41 || code === 92) {\n      effects.consume(code);\n      return destinationRaw;\n    }\n\n    return destinationRaw(code);\n  }\n}","map":{"version":3,"sources":["/Users/rocknblock/Documents/GitHub/strong-hands-frontend/node_modules/micromark-factory-destination/index.js"],"names":["asciiControl","markdownLineEndingOrSpace","markdownLineEnding","factoryDestination","effects","ok","nok","type","literalType","literalMarkerType","rawType","stringType","max","limit","Number","POSITIVE_INFINITY","balance","start","code","enter","consume","exit","destinationEnclosedBefore","contentType","destinationRaw","destinationEnclosed","destinationEnclosedEscape","destinationRawEscape"],"mappings":"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","sourcesContent":["/**\n * @typedef {import('micromark-util-types').Effects} Effects\n * @typedef {import('micromark-util-types').State} State\n */\nimport {\n  asciiControl,\n  markdownLineEndingOrSpace,\n  markdownLineEnding\n} from 'micromark-util-character'\n\n/**\n * @param {Effects} effects\n * @param {State} ok\n * @param {State} nok\n * @param {string} type\n * @param {string} literalType\n * @param {string} literalMarkerType\n * @param {string} rawType\n * @param {string} stringType\n * @param {number} [max=Infinity]\n * @returns {State}\n */\n// eslint-disable-next-line max-params\nexport function factoryDestination(\n  effects,\n  ok,\n  nok,\n  type,\n  literalType,\n  literalMarkerType,\n  rawType,\n  stringType,\n  max\n) {\n  const limit = max || Number.POSITIVE_INFINITY\n  let balance = 0\n  return start\n  /** @type {State} */\n\n  function start(code) {\n    if (code === 60) {\n      effects.enter(type)\n      effects.enter(literalType)\n      effects.enter(literalMarkerType)\n      effects.consume(code)\n      effects.exit(literalMarkerType)\n      return destinationEnclosedBefore\n    }\n\n    if (code === null || code === 41 || asciiControl(code)) {\n      return nok(code)\n    }\n\n    effects.enter(type)\n    effects.enter(rawType)\n    effects.enter(stringType)\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return destinationRaw(code)\n  }\n  /** @type {State} */\n\n  function destinationEnclosedBefore(code) {\n    if (code === 62) {\n      effects.enter(literalMarkerType)\n      effects.consume(code)\n      effects.exit(literalMarkerType)\n      effects.exit(literalType)\n      effects.exit(type)\n      return ok\n    }\n\n    effects.enter(stringType)\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return destinationEnclosed(code)\n  }\n  /** @type {State} */\n\n  function destinationEnclosed(code) {\n    if (code === 62) {\n      effects.exit('chunkString')\n      effects.exit(stringType)\n      return destinationEnclosedBefore(code)\n    }\n\n    if (code === null || code === 60 || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return code === 92 ? destinationEnclosedEscape : destinationEnclosed\n  }\n  /** @type {State} */\n\n  function destinationEnclosedEscape(code) {\n    if (code === 60 || code === 62 || code === 92) {\n      effects.consume(code)\n      return destinationEnclosed\n    }\n\n    return destinationEnclosed(code)\n  }\n  /** @type {State} */\n\n  function destinationRaw(code) {\n    if (code === 40) {\n      if (++balance > limit) return nok(code)\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    if (code === 41) {\n      if (!balance--) {\n        effects.exit('chunkString')\n        effects.exit(stringType)\n        effects.exit(rawType)\n        effects.exit(type)\n        return ok(code)\n      }\n\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      if (balance) return nok(code)\n      effects.exit('chunkString')\n      effects.exit(stringType)\n      effects.exit(rawType)\n      effects.exit(type)\n      return ok(code)\n    }\n\n    if (asciiControl(code)) return nok(code)\n    effects.consume(code)\n    return code === 92 ? destinationRawEscape : destinationRaw\n  }\n  /** @type {State} */\n\n  function destinationRawEscape(code) {\n    if (code === 40 || code === 41 || code === 92) {\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    return destinationRaw(code)\n  }\n}\n"]},"metadata":{},"sourceType":"module"}