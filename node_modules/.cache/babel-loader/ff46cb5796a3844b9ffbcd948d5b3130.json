{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback } from 'react';\nimport BigNumber from 'bignumber.js/bignumber';\nimport { useCallWithGasPrice } from '@/services/web3/hooks';\nimport { DEFAULT_TOKEN_DECIMAL } from '@/utils/constants';\nexport const useUnstakeFarm = masterRefinerContract => {\n  _s();\n\n  const {\n    callWithGasPrice\n  } = useCallWithGasPrice();\n  const unstakeFarm = useCallback(async (pid, amount) => {\n    const value = new BigNumber(amount).times(DEFAULT_TOKEN_DECIMAL).toFixed();\n\n    if (pid === 0) {\n      const tx = await callWithGasPrice({\n        contract: masterRefinerContract,\n        methodName: 'leaveStaking',\n        methodArgs: [value],\n        options: {\n          gas: 300000\n        }\n      });\n      return tx.status;\n    }\n\n    const tx = await callWithGasPrice({\n      contract: masterRefinerContract,\n      methodName: 'withdraw',\n      methodArgs: [pid, value],\n      options: {\n        gas: 300000\n      }\n    });\n    return tx.status;\n  }, [callWithGasPrice, masterRefinerContract]);\n  return {\n    unstakeFarm\n  };\n};\n\n_s(useUnstakeFarm, \"zAcgJ1BNsi5Kti2ZXGyc3XTWVZY=\", false, function () {\n  return [useCallWithGasPrice];\n});","map":{"version":3,"sources":["/Users/rocknblock/Documents/GitHub/strong-hands-frontend/src/hooks/farms/useUnstakeFarm.ts"],"names":["useCallback","BigNumber","useCallWithGasPrice","DEFAULT_TOKEN_DECIMAL","useUnstakeFarm","masterRefinerContract","callWithGasPrice","unstakeFarm","pid","amount","value","times","toFixed","tx","contract","methodName","methodArgs","options","gas","status"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AAGA,SAASC,mBAAT,QAAoC,uBAApC;AACA,SAASC,qBAAT,QAAsC,mBAAtC;AAEA,OAAO,MAAMC,cAAc,GAAIC,qBAAD,IAAqC;AAAA;;AACjE,QAAM;AAAEC,IAAAA;AAAF,MAAuBJ,mBAAmB,EAAhD;AAEA,QAAMK,WAAW,GAAGP,WAAW,CAC7B,OAAOQ,GAAP,EAAoBC,MAApB,KAAoC;AAClC,UAAMC,KAAK,GAAG,IAAIT,SAAJ,CAAcQ,MAAd,EAAsBE,KAAtB,CAA4BR,qBAA5B,EAAmDS,OAAnD,EAAd;;AACA,QAAIJ,GAAG,KAAK,CAAZ,EAAe;AACb,YAAMK,EAAE,GAAG,MAAMP,gBAAgB,CAAC;AAChCQ,QAAAA,QAAQ,EAAET,qBADsB;AAEhCU,QAAAA,UAAU,EAAE,cAFoB;AAGhCC,QAAAA,UAAU,EAAE,CAACN,KAAD,CAHoB;AAIhCO,QAAAA,OAAO,EAAE;AACPC,UAAAA,GAAG,EAAE;AADE;AAJuB,OAAD,CAAjC;AAQA,aAAOL,EAAE,CAACM,MAAV;AACD;;AAED,UAAMN,EAAE,GAAG,MAAMP,gBAAgB,CAAC;AAChCQ,MAAAA,QAAQ,EAAET,qBADsB;AAEhCU,MAAAA,UAAU,EAAE,UAFoB;AAGhCC,MAAAA,UAAU,EAAE,CAACR,GAAD,EAAME,KAAN,CAHoB;AAIhCO,MAAAA,OAAO,EAAE;AACPC,QAAAA,GAAG,EAAE;AADE;AAJuB,KAAD,CAAjC;AAQA,WAAOL,EAAE,CAACM,MAAV;AACD,GAxB4B,EAyB7B,CAACb,gBAAD,EAAmBD,qBAAnB,CAzB6B,CAA/B;AA4BA,SAAO;AAAEE,IAAAA;AAAF,GAAP;AACD,CAhCM;;GAAMH,c;UACkBF,mB","sourcesContent":["import { useCallback } from 'react';\nimport BigNumber from 'bignumber.js/bignumber';\nimport { Contract } from 'web3-eth-contract';\n\nimport { useCallWithGasPrice } from '@/services/web3/hooks';\nimport { DEFAULT_TOKEN_DECIMAL } from '@/utils/constants';\n\nexport const useUnstakeFarm = (masterRefinerContract: Contract) => {\n  const { callWithGasPrice } = useCallWithGasPrice();\n\n  const unstakeFarm = useCallback(\n    async (pid: number, amount: any) => {\n      const value = new BigNumber(amount).times(DEFAULT_TOKEN_DECIMAL).toFixed();\n      if (pid === 0) {\n        const tx = await callWithGasPrice({\n          contract: masterRefinerContract,\n          methodName: 'leaveStaking',\n          methodArgs: [value],\n          options: {\n            gas: 300000,\n          },\n        });\n        return tx.status;\n      }\n\n      const tx = await callWithGasPrice({\n        contract: masterRefinerContract,\n        methodName: 'withdraw',\n        methodArgs: [pid, value],\n        options: {\n          gas: 300000,\n        },\n      });\n      return tx.status;\n    },\n    [callWithGasPrice, masterRefinerContract],\n  );\n\n  return { unstakeFarm };\n};\n"]},"metadata":{},"sourceType":"module"}