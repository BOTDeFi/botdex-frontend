{"ast":null,"code":"var _jsxFileName = \"/Users/rocknblock/Documents/GitHub/strong-hands-frontend/src/components/sections/Trade/Receive/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport BigNumber from 'bignumber.js/bignumber';\nimport { observer } from 'mobx-react-lite';\nimport moment from 'moment';\nimport BnbImg from \"@/assets/img/currency/unknown.svg\";\nimport { clogError } from '@/utils/logger';\nimport { useWalletConnectorContext } from '../../../../services/MetamaskConnect';\nimport MetamaskService from '../../../../services/web3';\nimport { useMst } from '../../../../store';\nimport { Button, Popover } from '../../../atoms';\nimport { TradeBox } from '..';\nimport './Receive.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Receive = observer(_c = _s(() => {\n  _s();\n\n  const {\n    metamaskService\n  } = useWalletConnectorContext();\n  const location = useLocation();\n  const history = useHistory();\n  const {\n    user\n  } = useMst();\n  const [liquidityInfo, setLiquidityInfo] = React.useState();\n  const [isActiveTx, setIsActiveTx] = React.useState(false);\n\n  const handleRemoveLiquidity = async () => {\n    try {\n      if (liquidityInfo && (liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token0.receive) && (liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token1.receive)) {\n        setIsActiveTx(true);\n        await metamaskService.createTransaction({\n          method: 'removeLiquidity',\n          contractName: 'ROUTER',\n          data: [liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token0.address, liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token1.address, liquidityInfo.lpTokens, new BigNumber(liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token0.receive).multipliedBy(0.99).toFixed(0), new BigNumber(liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token1.receive).multipliedBy(0.99).toFixed(0), user.address, moment.utc().add(20, 'm').valueOf()]\n        });\n        history.push('/trade/liquidity');\n      }\n    } catch (err) {\n      setIsActiveTx(false);\n      clogError('remove liquidity', err);\n    }\n  };\n\n  React.useEffect(() => {\n    if (location.state) {\n      setLiquidityInfo(location.state);\n    } else {\n      history.push('/trade/liquidity');\n    }\n  }, [location, history]);\n  return /*#__PURE__*/_jsxDEV(TradeBox, {\n    className: \"receive\",\n    title: \"You will receive\",\n    titleBackLink: true,\n    children: [liquidityInfo && liquidityInfo.token0.receive && liquidityInfo.token1.receive ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"receive__box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"receive__item box-f-ai-c box-f-jc-sb\",\n        children: [/*#__PURE__*/_jsxDEV(Popover, {\n          content: MetamaskService.amountFromGwei(liquidityInfo.token0.receive, +liquidityInfo.token0.decimals),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lmd text-address\",\n            children: MetamaskService.amountFromGwei(liquidityInfo.token0.receive, +liquidityInfo.token0.decimals)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receive__item-currency box-f-ai-c\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-upper text-smd\",\n            children: liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token0.symbol\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: BnbImg,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-yellow text-lmd text-med receive__plus\",\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"receive__item box-f-ai-c box-f-jc-sb\",\n        children: [/*#__PURE__*/_jsxDEV(Popover, {\n          content: MetamaskService.amountFromGwei(liquidityInfo.token1.receive, +liquidityInfo.token1.decimals),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lmd text-address\",\n            children: MetamaskService.amountFromGwei(liquidityInfo.token1.receive, +liquidityInfo.token1.decimals)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receive__item-currency box-f-ai-c\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-upper text-smd\",\n            children: liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token1.symbol\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: BnbImg,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text text-gray\",\n      children: \"Output is stimulated. If the price changes by more than 0.8% your transaction will revert.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), (liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.lpTokens) ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"receive__burned text-smd text-yellow\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"LP \", liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token0.symbol, \"/\", liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token1.symbol, \" Burned\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box-f-ai-c\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: BnbImg,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: BnbImg,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \" text-address\",\n          children: MetamaskService.amountFromGwei(liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.lpTokens, 18)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this) : '', (liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token1.rate) && (liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token0.rate) ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"receive__price box-f box-f-jc-sb text-smd text-yellow\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Price\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"peceive__price-item\",\n          children: [\"1 \", liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token0.symbol, \" = \", +(+(liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token1.rate)).toFixed(8), ' ', liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token1.symbol]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"peceive__price-item\",\n          children: [\"1 \", liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token1.symbol, \" = \", +(+(liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token0.rate)).toFixed(8), ' ', liquidityInfo === null || liquidityInfo === void 0 ? void 0 : liquidityInfo.token0.symbol]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }, this) : '', /*#__PURE__*/_jsxDEV(Button, {\n      className: \"receive__btn\",\n      onClick: handleRemoveLiquidity,\n      loading: isActiveTx,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-white text-bold text-md\",\n        children: \"Confirm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}, \"wZztqSnv4TJgs9Ta+11UHGc9dDQ=\", false, function () {\n  return [useWalletConnectorContext, useLocation, useHistory, useMst];\n}));\n_c2 = Receive;\nexport default Receive;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Receive$observer\");\n$RefreshReg$(_c2, \"Receive\");","map":{"version":3,"sources":["/Users/rocknblock/Documents/GitHub/strong-hands-frontend/src/components/sections/Trade/Receive/index.tsx"],"names":["React","useHistory","useLocation","BigNumber","observer","moment","clogError","useWalletConnectorContext","MetamaskService","useMst","Button","Popover","TradeBox","Receive","metamaskService","location","history","user","liquidityInfo","setLiquidityInfo","useState","isActiveTx","setIsActiveTx","handleRemoveLiquidity","token0","receive","token1","createTransaction","method","contractName","data","address","lpTokens","multipliedBy","toFixed","utc","add","valueOf","push","err","useEffect","state","amountFromGwei","decimals","symbol","BnbImg","rate"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport BigNumber from 'bignumber.js/bignumber';\nimport { observer } from 'mobx-react-lite';\nimport moment from 'moment';\n\nimport BnbImg from '@/assets/img/currency/unknown.svg';\nimport { clogError } from '@/utils/logger';\n\nimport { useWalletConnectorContext } from '../../../../services/MetamaskConnect';\nimport MetamaskService from '../../../../services/web3';\nimport { useMst } from '../../../../store';\nimport { ILiquidityInfo } from '../../../../types';\nimport { Button, Popover } from '../../../atoms';\nimport { TradeBox } from '..';\n\nimport './Receive.scss';\n\ninterface IReceiveState extends ILiquidityInfo {\n  lpTokens: string;\n}\n\nconst Receive: React.FC = observer(() => {\n  const { metamaskService } = useWalletConnectorContext();\n  const location = useLocation<IReceiveState>();\n  const history = useHistory();\n  const { user } = useMst();\n\n  const [liquidityInfo, setLiquidityInfo] = React.useState<IReceiveState>();\n  const [isActiveTx, setIsActiveTx] = React.useState<boolean>(false);\n\n  const handleRemoveLiquidity = async () => {\n    try {\n      if (liquidityInfo && liquidityInfo?.token0.receive && liquidityInfo?.token1.receive) {\n        setIsActiveTx(true);\n        await metamaskService.createTransaction({\n          method: 'removeLiquidity',\n          contractName: 'ROUTER',\n          data: [\n            liquidityInfo?.token0.address,\n            liquidityInfo?.token1.address,\n            liquidityInfo.lpTokens,\n            new BigNumber(liquidityInfo?.token0.receive).multipliedBy(0.99).toFixed(0),\n            new BigNumber(liquidityInfo?.token1.receive).multipliedBy(0.99).toFixed(0),\n            user.address,\n            moment.utc().add(20, 'm').valueOf(),\n          ],\n        });\n        history.push('/trade/liquidity');\n      }\n    } catch (err) {\n      setIsActiveTx(false);\n      clogError('remove liquidity', err);\n    }\n  };\n\n  React.useEffect(() => {\n    if (location.state) {\n      setLiquidityInfo(location.state);\n    } else {\n      history.push('/trade/liquidity');\n    }\n  }, [location, history]);\n\n  return (\n    <TradeBox className=\"receive\" title=\"You will receive\" titleBackLink>\n      {liquidityInfo && liquidityInfo.token0.receive && liquidityInfo.token1.receive ? (\n        <div className=\"receive__box\">\n          <div className=\"receive__item box-f-ai-c box-f-jc-sb\">\n            <Popover\n              content={MetamaskService.amountFromGwei(\n                liquidityInfo.token0.receive,\n                +liquidityInfo.token0.decimals,\n              )}\n            >\n              <div className=\"text-lmd text-address\">\n                {MetamaskService.amountFromGwei(\n                  liquidityInfo.token0.receive,\n                  +liquidityInfo.token0.decimals,\n                )}\n              </div>\n            </Popover>\n            <div className=\"receive__item-currency box-f-ai-c\">\n              <div className=\"text-upper text-smd\">{liquidityInfo?.token0.symbol}</div>\n              <img src={BnbImg} alt=\"\" />\n            </div>\n          </div>\n          <div className=\"text-yellow text-lmd text-med receive__plus\">+</div>\n          <div className=\"receive__item box-f-ai-c box-f-jc-sb\">\n            <Popover\n              content={MetamaskService.amountFromGwei(\n                liquidityInfo.token1.receive,\n                +liquidityInfo.token1.decimals,\n              )}\n            >\n              <div className=\"text-lmd text-address\">\n                {MetamaskService.amountFromGwei(\n                  liquidityInfo.token1.receive,\n                  +liquidityInfo.token1.decimals,\n                )}\n              </div>\n            </Popover>\n            <div className=\"receive__item-currency box-f-ai-c\">\n              <div className=\"text-upper text-smd\">{liquidityInfo?.token1.symbol}</div>\n              <img src={BnbImg} alt=\"\" />\n            </div>\n          </div>\n        </div>\n      ) : (\n        ''\n      )}\n      <div className=\"text text-gray\">\n        Output is stimulated. If the price changes by more than 0.8% your transaction will revert.\n      </div>\n      {liquidityInfo?.lpTokens ? (\n        <div className=\"receive__burned text-smd text-yellow\">\n          <span>\n            LP {liquidityInfo?.token0.symbol}/{liquidityInfo?.token1.symbol} Burned\n          </span>\n          <div className=\"box-f-ai-c\">\n            <img src={BnbImg} alt=\"\" />\n            <img src={BnbImg} alt=\"\" />\n            <span className=\" text-address\">\n              {MetamaskService.amountFromGwei(liquidityInfo?.lpTokens, 18)}\n            </span>\n          </div>\n        </div>\n      ) : (\n        ''\n      )}\n      {liquidityInfo?.token1.rate && liquidityInfo?.token0.rate ? (\n        <div className=\"receive__price box-f box-f-jc-sb text-smd text-yellow\">\n          <span>Price</span>\n          <div>\n            <div className=\"peceive__price-item\">\n              1 {liquidityInfo?.token0.symbol} = {+(+liquidityInfo?.token1.rate).toFixed(8)}{' '}\n              {liquidityInfo?.token1.symbol}\n            </div>\n            <div className=\"peceive__price-item\">\n              1 {liquidityInfo?.token1.symbol} = {+(+liquidityInfo?.token0.rate).toFixed(8)}{' '}\n              {liquidityInfo?.token0.symbol}\n            </div>\n          </div>\n        </div>\n      ) : (\n        ''\n      )}\n      <Button className=\"receive__btn\" onClick={handleRemoveLiquidity} loading={isActiveTx}>\n        <span className=\"text-white text-bold text-md\">Confirm</span>\n      </Button>\n    </TradeBox>\n  );\n});\n\nexport default Receive;\n"]},"metadata":{},"sourceType":"module"}